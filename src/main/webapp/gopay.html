<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BOOKNOW</title>
    <meta name="viewport" content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes,target-densitydpi=medium-dpi"/>
    <script src="js/loadcss.js" type="text/javascript" charset="utf-8"></script>
    <style>
        .forminput{
            width: 95%;
            height: 40px;
            padding: 0 5px;
            margin: 10px auto;
            background: #EDEDED;
            border: 0px;
        }
        body{
            background: #F7F7F7;
        }
        .forminput:focus{
            border: 1px solid #FACD97;
            outline:none;

            /*border: 1px solid red;*/
        }
    </style>
</head>
<body>
<div id="main">
    <div id="head">
        <div class="b-logo">
            <img id="logo" src="image/logo-dark.png" alt="">
        </div>
        <div style="position: absolute;right: 10px; top: 5px">
            <div class="menu_open">
                <i></i>
                <i></i>
                <i></i>
            </div>
            <div class="nav">
                <ul class="nav_ul clearfix">
                    <li class="nav_item"><a href="contactUs.html">CONTACT US</a></li>
                    <li class="nav_item"><a href="aboutUs.html">ABOUT US</a></li>
                    <li class="nav_item"><a href="gopay.html">BOOK NOW</a></li>
                    <li class="nav_item"><a href="itinerary.html">ITINERARY</a></li>
                    <li class="nav_item"><a href="home.html">HOME</a></li>
                </ul>
            </div>
            <div class="hcover"></div>
        </div>
    </div>
    <div class="gopay" id="banner" style="height: 20rem;">
        <div class="banner-title">
            <div><h2 id="title"></h2></div>
        </div>
    </div>
    <div class="page4">
        <div class="page4-center">
            <div class="font-Poppins-Bold" style="text-align: left;font-size: 0.8rem;" id="payTitle"></div>
            <div style="width: 50%;height: 6px;background: #FFA53A;margin: 10px 0;"></div>
            <div class="font-Poppins-Bold" id="payContent" style="text-align: left;color: #c6c8ca;font-size: 0.6rem"></div>
        </div>
    </div>
    <div class="page4" style="">
        <form style="width: 35rem;margin: 0 auto;padding: 0 2rem;" id="bookNow">
            <input name="applicantName" id="applicantName"  placeholder="Applicant's First and Last Name" class="forminput">
            <input name="guardianName" id="guardianName" placeholder="Guardian’s First and Last Name" class="forminput">
            <input name="birthday" id="birthday" placeholder="Applicant’s birthday" class="forminput">
            <input name="gendar" id="gendar" placeholder="Gendar" class="forminput">
            <input name="phone" id="phone" placeholder="Phone" class="forminput">
            <input name="email" id="email" placeholder="Email" class="forminput">
            <input name="address" id="address" placeholder="Address" class="forminput">
            <input name="person" id="person" placeholder="Emergency Contact Person" class="forminput">
            <input name="personNumber" id="personNumber" placeholder="Emergency Contact Person’s number" class="forminput">
            <input name="food" id="food" placeholder="Are you allergic to any food?" class="forminput">
            <input name="concerns" id="concerns" placeholder="Do you have any medical issues or concerns?" class="forminput">
            <input name="china" id="china" placeholder="Do you have a valid passport?" class="forminput">
            <button type="button" style="padding: 0.5rem 1.5rem;background: #FFA53A;border:none;display:block;margin: 2rem auto;color: #fff;" id="" data-toggle="modal" data-target="#exampleModal">PAY NOW</button>
        </form>
    </div>
    <div>
        <img id="payMap" alt="" width="100%">
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">PAYMENT</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                        <input type="hidden" name="cmd" value="_s-xclick">
                        <input type="hidden" name="hosted_button_id" value="382XYCDEKTE2G">
                        <div style="text-align: center;font-size: 24px;padding: 12px 6px;">
                            <input type="hidden" name="on0" value="Summer Quest">Summer Quest
                        </div>
                        <div style="text-align: center;padding: 12px;">
                            <select class="form-control" name="os0">
                                <option value="Deposit">Deposit $1,000.00 USD</option>
                                <option value="Early Bird Balance">Early Bird Balance $3,750.00 USD</option>
                                <option value="Regular Price Balance">Regular Price Balance $4,950.00 USD</option>
                            </select>
                        </div>
                        <input type="hidden" name="currency_code" value="USD">
                        <div style="text-align: right;padding:20px 6px 12px;">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary" id="submit">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="foot">
        <div class="f-center">
            <div class="f-logo"><img src="image/logo-dark.png" alt="" width="100%" height="100%"></div>
            <div class="f-content">© 2019 Rediscover Culture</div>
        </div>
    </div>
</div>
<script src="js/loadjs.js" type="text/javascript" charset="utf-8"></script>
<script>
    $(function () {
        $(".menu_open").click(function () {
            $(".nav").animate({ 'right': '0' }, 400);
            $(".hcover").animate({ 'left': '0' }, 400);
        });
        $(".hcover").click(function () {
            $(this).animate({ 'left': '-50%' }, 400);
            $(".nav").animate({ 'right': '-50%' }, 400);
            $(".nav_ul").animate({ 'right': '0' }, 400);
            $('.nav_item_open').css('right', '-50%');
        });
        $(".nav_item i").click(function () {
            $(".nav_ul").animate({ 'left': '-100%' }, 400);
            $(this).next('.nav_item_open').css('left', '0');
        });
        $(".subopen").click(function () {
            $(this).parent('.nav_item_open').css('left', '-50%');
            $(".nav_ul").animate({ 'left': '0' }, 400);
        });
        $.ajax({
            url: '/book/query',
            type: 'POST',
            dataType: 'json',
            success: function (rs) {
                console.log(rs.data);
                setDom(rs.data);
            }
        })
    });

    $('#submit').on('click', function () {
        $.ajax({
            url: '/registered/addone',
            type: 'POST',
            dataType: 'json',
            data: {
                applicantName: $('#applicantName').val(),
                guardianName: $('#guardianName').val(),
                applicantBirthday: $('#birthday').val(),
                gender: $('#gendar').val(),
                phone: $('#phone').val(),
                email: $('#email').val(),
                address: $('#address').val(),
                emergencyContact: $('#person').val(),
                emergencyContactNumber: $('#personNumber').val(),
                foodAllergy: $('#food').val(),
                concerns: $('#concerns').val(),
                chineseVisa: $('#china').val()
            }
        })
    });

    function setDom(data) {
        $('.gopay').css('background', "url(" + data.one.image + ") no-repeat no-repeat").css('backgroundSize','cover');
        $('#title').html(data.one.title);
        $('#payTitle').html(data.two[0].title);
        $('#payContent').html(data.two[0].introduce);
        $('#payMap').prop('src', data.two[0].image);
    }
</script>
</body>
</html>