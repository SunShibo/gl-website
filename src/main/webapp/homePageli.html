<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Home</title>

    <!-- <script src="static/menu/jquery.min.js"></script>-->
    <link rel="stylesheet" href="static/menu/menu.css" type="text/css"/>
    <script charset="utf-8" src="static/kindeditor/kindeditor-all-min.js"></script>
    <script charset="utf-8" src="static/kindeditor/zh_CN.js"></script>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        .headv {
            line-height: 1em;
            color: #4e4e4e;
            min-width: 920px;
            position: fixed;
            top: 0;
            left: 100px;
            right: 0;
            height: 140px;
            z-index: 10;
        }

        .headv > div {
            float: left;
            padding: 20px;
            cursor: pointer;
        }

        .moduleHead {
            float: left;
            margin-top: 0%;
            margin-left: 10%;

        }

        .right {
            margin-top: 0%;
            margin-right: -20%;
            text-align: center;
        }

        .fileimg {
            margin: 5px auto;
            font-size: 0px;
            width: 100px;
            height: 40px;
            border-radius: 4px;
            border: 1px solid black; /*https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1545854399678&di=8ba061b9962a9da6bf94c5ab8d582ef1&imgtype=0&src=http%3A%2F%2Fsc01.alicdn.com%2Fkf%2FHTB1N77INpXXXXXXXpXXq6xXFXXXX%2F228377817%2FHTB1N77INpXXXXXXXpXXq6xXFXXXX.jpg*/
            z-index: 12333333;
            background: url("/image/upImag.jpg") no-repeat right center;
            background-size: 40px 40px;
        }

        .imagesnov{
            width: 100%;
            float: left;
        }
        .imgs{
            margin-left: 10px;
            float: left;
            width: 300px;
        }

        .changebtn{
            margin-left: 43%;
        }


    </style>
</head>
<body style="background: black">

<nav class="menu-activea">
    <h1>Menu</h1>
    <ul>
        <li><a href="homePageli.html" style="color:#9DC6D1;text-decoration:none;">HomePage</a></li>
        <li>Susy</li>
        <li>Jack</li>
        <li>Nancy</li>
        <li><a href="BGSilkRoad.html" style="color:#9DC6D1;text-decoration:none;">SilkRoad</a></li>
        <li><a href="BGInternation.html" style="color:#9DC6D1;text-decoration:none;">Internation</a></li>
        <li><a href="BGBookNow.html" style="color:#9DC6D1;text-decoration:none;">BookNow</a></li>
    </ul>
</nav>
<main>
    <div>
        <ul id="myTab" class="nav nav-tabs" style="padding-left: 10%;">

            <li class="dropdown active">
                <a href="#" id="myTabDrop1" class="dropdown-toggle"
                   data-toggle="dropdown">Molde One
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">
                    <li><a href="#home" tabindex="-1" data-toggle="tab">Modify A Picture</a></li>
                    <li><a href="#onetitle" tabindex="-1" data-toggle="tab">Modify The Title</a></li>
                    <li><a href="#onesubtitle" tabindex="-1" data-toggle="tab">Modify Subtitle</a></li>
                    <li><a href="#onttext" tabindex="-1" data-toggle="tab">Modify Content</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#" id="myTabDrop2" class="dropdown-toggle"
                   data-toggle="dropdown">Molde Two
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">
                    <li><a href="#Mode2Title" tabindex="-1" data-toggle="tab">Modify The Title</a></li>
                    <li><a href="#Mode2Content" tabindex="-1" data-toggle="tab">Modify Content</a></li>
                </ul>
            </li>


            <li class="dropdown">
                <a href="#" id="myTabDrop3" class="dropdown-toggle"
                   data-toggle="dropdown">Model Three
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">
                    <li><a href="#model3Image" tabindex="-1" data-toggle="tab">Modify multiple images</a></li>
                    <li><a href="#model3Title" tabindex="-1" data-toggle="tab">Modify Multiple Titles</a></li>
                    <li><a href="#model3Text" tabindex="-1" data-toggle="tab">Modify Multiple Text</a></li>
                </ul>
            </li>

            <li><a href="#model4" data-toggle="tab">Model Four</a></li>

            <li><a href="#model5" data-toggle="tab">Model Five</a></li>


        </ul>


        <div id="myTabContent" class="tab-content">

            <div class="tab-pane fade in active" id="home">
                <div id="moduleHead" class="moduleHead" style="width: 100%!important;">
                    <form action="/backgroundHome/editItemsSubmit" method="post" enctype="multipart/form-data"  id="model1updateImageForm">
                        <!--TODO  模块一图片上传 -->
                        <div class="row" id="moduleHeadLeft" style="width: 100%!important;">
                            <div class="col-md-8 column right" style="margin-top: 30px">
                                <img height="200px" width="300px" id="moduleHeadLeftImag"/>
                            </div>
                            <div class="col-md-4 column">
                                <div style="height: 50px;width: 100%"></div>
                                <span id="choosetitle" style="color:#4e4e4e;text-decoration:none;">please choose Alternate picture:  </span>
                                <input id="fileimg" type="file" class="fileimg" name="file" style="margin: 0px 0px;"
                                       placeholder="please choose The picture to be replaced"
                                       title="please choose The picture to be replaced">
                            </div>
                        </div>
                        <br/><br/><br/><br/>
                        <div style="height: 40px ;width: 500px;margin: 0 30%;">
                            <a href="javascript:void(0)" id="model1updateImage">Modification</a>
                        </div>
                    </form>
                </div>
            </div>
            <!--  模块一 代码显示-->
            <div class="tab-pane fade" id="onetitle">  <!--TODO  模块一主标题 -->
                <h1 style="text-align: center;text-decoration:none;" id="model1titleone">Modification Main Title</h1>
                <br/><br/><br/><br/>
                <div id="moduleHeadRight" style="z-index: 25252525;padding-left: 26%;">
                    <textarea name="messageContent" style="margin: 0px; height: 120px; width: 400px;" id="model1tit1"
                              placeholder="Please enter the content"></textarea>
                    <a href="javascript:void(0)" id="model1tit1update">Modification</a>
                </div>

            </div>


            <div class="tab-pane fade" id="onesubtitle"><!--TODO  模块一副标题 -->
                <h1 style="text-align: center" id="model1showSubtitle">Modify Subtitle</h1>
                <br/><br/><br/><br/>
                <div id="moduleHeadRightone" style="z-index: 25252525;padding-left: 26%;">
                    <textarea name="messageContent" style="margin: 0px; height: 120px; width: 400px;"
                              id="getSubtitle"></textarea>
                    <a href="javascript:void(0)" id="updateSubtitle">Modification</a>
                </div>
            </div>

            <div class="tab-pane fade" id="onttext">  <!--TODO 模块一 正文-->
                <div style="height: 55px ;width: 590px;margin: 0 28%;">
                    <h3 style="text-align: center" id="model1ShowMainBody">Modify Main Body </h3>
                </div>
                <div style="padding-left: 26%;">
                    <br/><br/><br/><br/>
                    <textarea name="messageContent" style="margin: 0px; height: 120px; width: 400px;"
                              id="getModel1MainBody"></textarea>
                    <a href="javascript:void(0)" id="updateModel1MainBody">Modification</a>
                </div>

            </div>


            <!--  模块二代码显示-->  <!--TODO 模块二 正文-->
            <div class="tab-pane fade" id="Mode2Title"></a>
                <div style="height: 150px ;width: 590px;margin: 0 28%;">
                    <h4 style="text-align: center" id="showModel2Title">Modify The Title</h4>
                </div>
                <div style="padding-left: 26%;">
                    <textarea name="messageContent" style="margin: 0px; height: 120px; width: 400px;"
                              id="getModel2Titletest"></textarea>
                    <a href="javascript:void(0)" id="updateModel2Title">Modification</a>
                </div>
            </div>

            <div class="tab-pane fade" id="Mode2Content">
                <div style="height: 140px ;width: 590px;margin: 0 28%;">
                    <h4 style="text-align: center" id="showModel2Content">Modify Content</h4>
                </div>
                <div style="padding-left: 26%;">
                    <br/><br/><br/><br/>
                    <textarea name="messageContent" style="margin: 0px; height: 120px; width: 400px;"
                              id="getModel2Content"></textarea>
                    <a href="javascript:void(0)" id="updateModel2Content">Modification</a>
                </div>
            </div>


            <!--TODO 模块三图片-->
            <!--  模块三代码显示-->
            <div class="tab-pane fade" id="model3Image">
                <form action="/backgroundHome/query" method="post" enctype="multipart/form-data"
                      style="display: flex; justify-content: space-around; align-content: center"> <!--TODO  模块三图片修改 -->

                    <div style="margin: 25px 0;">
                        <img height="180px" width="200px" id="model3Image1" src="/image/homeeight.png"/>
                        <div style="text-align: center">
                            <input type="file" class="fileimg" name="file"
                                   placeholder="please choose The picture to be replaced"
                                   title="please choose The picture to be replaced">
                            <a href="javascript:void(0)" style="">&nbsp;Modification</a>
                        </div>
                    </div>


                    <div style="margin: 25px 0;">
                        <img height="180px" width="200px" id="model3Image2" src="/image/homeeight.png"/>
                        <div style="text-align: center">
                            <input type="file" class="fileimg" name="file"
                                   placeholder="please choose The picture to be replaced"
                                   title="please choose The picture to be replaced">
                            <a href="javascript:void(0)">&nbsp;Modification</a>
                        </div>
                    </div>


                    <div style="margin: 25px 0;">
                        <img height="180px" width="200px" id="model3Image3" src="/image/homeeight.png"/>
                        <div style="text-align: center">
                            <input type="file" class="fileimg" name="file"
                                   placeholder="please choose The picture to be replaced"
                                   title="please choose The picture to be replaced">
                            <a href="javascript:void(0)">&nbsp;Modification</a>
                        </div>
                    </div>
                </form>
            </div>


            <div class="tab-pane fade" id="model3Title">
                <div style="width: 80%;margin: 8% 20%; height: 65px">
                    <ul id="myTab02" class="nav nav-tabs">
                        <li class="active">
                            <a href="#textone" data-toggle="tab">
                                first title
                            </a>
                        </li>

                        <li>
                            <a href="#texttwo" data-toggle="tab">
                                second title
                            </a>
                        </li>

                        <li>
                            <a href="#textthree" data-toggle="tab">
                                third title
                            </a>
                        </li>
                    </ul>

                    <div id="myTabsContent" class="tab-content">
                        <div class="tab-pane fade in active" id="textone">
                            <span style="font-size: 20px;height: 140px ;width: 590px;margin: 0 28%;"
                                  id="showModel3Title1">
                    Modify Content
                    </span>


                            <textarea name="messageContent" style="width: 70%;height: 250px"></textarea>

                            <a onclick="updates(this)" id="up1">&nbsp;Modification</a>
                        </div>

                        <div class="tab-pane fade" id="texttwo">
                            <span style="height: 140px ;width: 590px;margin: 0 28%;" id="showModel3Title2">
                    Modify Content
                    </span>


                            <textarea name="messageContent" style="width: 70%;height: 250px"></textarea>

                            <a href="javascript:void(0)">&nbsp;Modification</a>
                        </div>

                        <div class="tab-pane fade" id="textthree">
                            <span style="height: 140px ;width: 590px;margin: 0 28%;" id="showModel3Title3">
                    Modify Content
                    </span>


                            <textarea name="messageContent" style="width: 70%;height: 250px"></textarea>

                            <a href="javascript:void(0)">&nbsp;Modification</a>
                        </div>
                    </div>
                </div>


            </div>

            <div class="tab-pane fade" id="model4">

            </div>

            <div class="tab-pane fade" id="model5">
                <div id="myCarousel" class="carousel slide" style="width: 60%;margin-left: 21%;">
                    <!-- 轮播（Carousel）指标 -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>

                    <!-- 轮播（Carousel）项目 -->
                    <div class="carousel-inner">
                        <div class="item active">
                            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1546446128716&di=5f5dce05f80abd5f9e1bd48bfa031c60&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201807%2F17%2F154537ujxutueesyj3mzt0.jpg" alt="First slide">
                            <button type="button" class="btn btn-default changebtn">修改</button>
                            <button type="button" class="btn btn-default">删除</button>
                        </div>
                        <div class="item">
                            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1546446128716&di=5f5dce05f80abd5f9e1bd48bfa031c60&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201807%2F17%2F154537ujxutueesyj3mzt0.jpg" alt="Second slide">
                            <button type="button" class="btn btn-default changebtn">修改</button>
                            <button type="button" class="btn btn-default">删除</button>
                        </div>
                        <div class="item">
                            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1546446128716&di=5f5dce05f80abd5f9e1bd48bfa031c60&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201807%2F17%2F154537ujxutueesyj3mzt0.jpg" alt="Third slide">
                            <button type="button" class="btn btn-default changebtn">修改</button>
                            <button type="button" class="btn btn-default">删除</button>
                        </div>
                    </div>
                    <!-- 轮播（Carousel）导航 -->
                    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next" style="margin-right: 0%;">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>


        </div>
    </div>
</main>


<script src="static/menu/manu.js"></script>

<script type="text/javascript">
    function addimg(dom) {
        var soncommentappend = "";
        soncommentappend += '<div class="imgs">';
        soncommentappend += '<img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1546446128716&di=5f5dce05f80abd5f9e1bd48bfa031c60&imgtype=0&src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201807%2F17%2F154537ujxutueesyj3mzt0.jpg" style="width: 300px;">';
        soncommentappend += '<br>';
        soncommentappend += '<button class="btn btn-default changebtn">修改</button>';
        soncommentappend += '<button class="btn btn-default">删除</button>';
        soncommentappend += '<button class="btn btn-default" onclick="addimg(this)">添加</button>';
        soncommentappend += '</div>';
        $(dom).parent().parent().append(soncommentappend);
    }
</script>

<script type="text/javascript">
    function updates(dom) {
        if (dom.id == "up1") {
            alert("asd");
        } else {
            alert("asd");
        }
    }
</script>

<script type="text/javascript">

    $(document).ready(function () {

        $.ajax({
            type: "POST",
            url: '/backgroundHome/query',
            dataType: 'json',
            cache: false,
            success: function (date) {
                if (date.success == true) {
                    var homeModel1 = date.data.homeModel1;
                    $("#moduleHeadLeftImag").attr("src", homeModel1.image);
                    $("#model1titleone").html(homeModel1.title);
                    $("#model1showSubtitle").html(homeModel1.subtitle);
                    $("#model1ShowMainBody").html(homeModel1.introduce);
                    var Model2 = date.data.homeModel2;
                    $("#showModel2Title").html(Model2.introduce);
                    $("#showModel2Content").html(Model2.title);
                    var Model3 = date.data.homeModel3;
                    $("#model3Image1").attr("src", Model3[0].image);
                    $("#model3Image2").attr("src", Model3[1].image);
                    $("#model3Image3").attr("src", Model3[2].image);


                    /*




                        $("#titleone").html(homeModel1.title);
                         $("#subtitleone").html(homeModel1.subtitle);
                         $("#introduceone").html(homeModel1.introduce);
                         var homeModel2 = date.data.homeModel2;
                         $("#titletwo").html(homeModel2.title);
                         $("#introducetwo").html(homeModel2.introduce);
                        var homeModel3 = date.data.homeModel3;
                         for(var i=0;i<homeModel3.length;i++){

                             $("#titlethreeone").html(homeModel3[0].title);
                             $("#titlethreetwo").html(homeModel3[1].title);
                             $("#titlethreethree").html(homeModel3[2].title);
                             $("#titlethreefour").html(homeModel3[3].title);
                         }*/
                } else if (date.success == false) {
                    var err = date.errCode;
                    if (err == 0000001) {
                        alert("Please login first");
                    }
                }

            },
            error: function () {
                alert("network anomaly");
            }
        });


        //简单模式初始化
        var editor;
        KindEditor.ready(function (K) {
            editor = K.create('textarea[name="messageContent"]', {
//            resizeType : 1,
//            allowPreviewEmoticons : false,
                allowFileManager: true,
                items: [
                    'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',
                    'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
                    'insertunorderedlist', '|', 'lineheight', 'emoticons', 'media', 'link', 'code', 'source',
                    'fullscreen'],
                uploadJson: '/static/js/kindeditor/kd_upload_image.jsp',
//      allowFileManager : true,
//      fileManagerJson : '/static/js/kindeditor/kd_upload_file.jsp'
                afterCreate: function () {
                    this.sync();
                },
                afterBlur: function () {
                    this.sync();
                }

            });


        });
    });


    $(document).ready(function () {
        //模块一图片修改
        $("#model1updateImage").click(function () {
            var img = $("#fileimg").val();
            if (img == '' || img == null) {
                alert("Please select file");
                return;
            }

            $("#model1updateImageForm").submit();
            window.location();
        });


        //模块一主标题修改
        $("#model1tit1update").click(function () {

            var msg = $("#model1tit1").val();
            if (msg == '' || msg == null) {
                alert("Please enter the content");
                return;
            }
            update("/backgroundHome/mode1Update", msg, 1);
            return;
        });

        //模块一副题修改
        $("#updateSubtitle").click(function () {

            var msg = $("#getSubtitle").val();
            if (msg == '' || msg == null) {
                alert("Please enter the content");
                return;
            }
            update("/backgroundHome/mode1Update", msg, 2);
            return;
        });

        //模块一内容
        $("#updateModel1MainBody").click(function () {

            var msg = $("#getModel1MainBody").val();
            if (msg == '' || msg == null) {
                alert("Please enter the content");
                return;
            }
            update("/backgroundHome/mode1Update", msg, 3);
            return;
        });


        //模块二标题
        $("#updateModel2Title").click(function () {
            var msg = $("#getModel2Titletest").val();
            if (msg == '' || msg == null) {
                alert("Please enter the content");
                return;
            }
            update("/backgroundHome/model2Update", msg, 1);
            return;
        });

        //模块二内容
        $("#updateModel2Content").click(function () {
            var msg = $("#getModel2Content").val();
            alert(msg);
            if (msg == '' || msg == null) {
                alert("Please enter the content");
                return;
            }
            update("/backgroundHome/model2Update", msg, 2);
            return;
        });


    });


    function update(url, msg, falg) {
        $.ajax({
            type: "POST",
            url: url,
            dataType: 'json',
            data: {"msg": msg, falg: falg},
            cache: false,
            success: function (date) {
                if (date.success == true) {
                    history.go(0);
                } else if (date.success == false) {
                    var err = date.errCode;
                    if (err == 0000001) {
                        alert("Please login first");
                    }
                }
            },
            error: function () {
                alert("network anomaly");
            }
        });

    }


</script>
</body>
</html>
